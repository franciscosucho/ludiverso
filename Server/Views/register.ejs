<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('head.ejs') %>
        <title>
            Registrarse
        </title>
</head>

<body id="login">
    <main class="background">
        <div class="overlay">

            <form method="post" action="/registrar">
                <div class="cont_logo">
                    <img src="resources/imagenes/logo_ludi.png" alt="">
                </div>
                <div id="cont_main_inputs">
                    <h2>Registrarse</h2>
                    <div class="cont_input">
                        <input name="nombre_us" type="text" placeholder="Escriba su nombre " required>
                    </div>
                    <div class="cont_input">
                        <input name="apellido_us" type="text" placeholder="Escriba su apellido " required>
                    </div>
                    <div class="cont_input">
                        <input name="nombre_usuario_us" type="text" placeholder="Escriba su nombre de usuario" required>

                    </div>
                    <div class="cont_input">
                        <input name="email_us" type="email" placeholder="Escriba su email" required>
                    </div>

                    <div class="cont_input">
                        <input id="input" name="password_us" type="password" placeholder="Escriba su contraseña" required>
                        <i class="fa-solid fa-lock" id="contra"></i>
                    </div>
                    <div class="form-group">
                        <select name="tipo_daltonismo" id="tipo_daltonismo" class="custom-select">
                            <option value="no_daltonico">Sin Daltonismo</option>
                            <option value="protanopia">Protanopia (Ceguera al Rojo)</option>
                            <option value="deuteranopia">Deuteranopia (Ceguera al Verde)</option>
                            <option value="tritanopia">Tritanopia (Ceguera al Azul)</option>
                            <option value="protanomaly">Protanomalía (Debilidad al Rojo)</option>
                            <option value="deuteranomaly">Deuteranomalía (Debilidad al Verde)</option>
                            <option value="tritanomaly">Tritanomalía (Debilidad al Azul)</option>
                            <option value="acromatopsia">Acromatopsia (Ceguera Total al Color)</option>
                            <option value="acromatomaly">Acromatomalía (Visión parcial al color)</option>
                            <option value="otro">Otro / Prefiero no especificar</option>
                        </select>
                    </div>
                    <div class="cont_input_check">
                        <input id="recibir_nov" name="recibir_nov" type="checkbox" checked>
                        <p>Recibir las novedades de ludiverso por email.</p>
                    </div>


                    <button>Registrarme</button>
                    <a href="/login">¿Ya tienes una cuenta? ¡Ingresa!</a>
                    <% if (typeof error !=='undefined' && error) { %>
                        <div class="error-message">
                            <%= error %>
                        </div>
                        <% } %>
                </div>
            </form>

        </div>
    </main>
</body>

</html>
<script>
    const contra = document.getElementById("contra")
    const input = document.getElementById("input")
    contra.addEventListener("click", () => {
        contra.classList.toggle("fa-lock")
        contra.classList.toggle("fa-eye")

        if (contra.classList.contains("fa-eye")) {
            input.type = "text";
        } else if (contra.classList.contains("fa-lock")) {
            input.type = "password";
        }
    })
</script>